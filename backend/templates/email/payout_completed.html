{% extends "base.html" %}

{% block content %}
<div style="background-color: #f9fafb; padding: 40px 20px;">
    <div style="max-width: 600px; margin: 0 auto; background-color: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);">
        <!-- Success Header -->
        <div style="background: linear-gradient(135deg, #10B981 0%, #059669 100%); padding: 40px 30px; text-align: center;">
            <div style="display: inline-block; width: 60px; height: 60px; background-color: rgba(255, 255, 255, 0.2); border-radius: 50%; margin-bottom: 20px; line-height: 60px; font-size: 30px;">
                âœ“
            </div>
            <h1 style="color: white; margin: 0; font-size: 28px; font-weight: 600;">Payout Complete!</h1>
            <p style="color: #D1FAE5; margin: 10px 0 0 0; font-size: 16px;">Your money is on its way</p>
        </div>

        <!-- Content -->
        <div style="padding: 40px 30px;">
            <p style="font-size: 16px; color: #374151; margin-bottom: 20px;">
                Hi {{ barber_name }},
            </p>

            <p style="font-size: 16px; color: #374151; margin-bottom: 30px;">
                Great news! Your payout has been processed successfully and the funds have been sent to your account.
            </p>

            <!-- Success Message -->
            <div style="background-color: #D1FAE5; border: 1px solid #6EE7B7; border-radius: 8px; padding: 20px; margin-bottom: 30px; text-align: center;">
                <h2 style="color: #065F46; font-size: 24px; margin: 0 0 10px 0;">${{ "%.2f"|format(amount) }}</h2>
                <p style="color: #047857; font-size: 14px; margin: 0;">
                    Has been sent to your {{ payment_method }} account
                </p>
                <p style="color: #047857; font-size: 14px; margin: 10px 0 0 0;">
                    <strong>Expected arrival:</strong> {{ arrival_time }}
                </p>
            </div>

            <!-- Payout Summary -->
            <div style="background-color: #F3F4F6; border-radius: 8px; padding: 25px; margin-bottom: 30px;">
                <h3 style="color: #1F2937; font-size: 18px; margin: 0 0 20px 0;">Payout Summary</h3>

                <table style="width: 100%; border-collapse: collapse;">
                    <tr>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #6B7280; font-size: 14px;">Reference Number</td>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #1F2937; font-size: 14px; text-align: right; font-family: monospace;">{{ payment_reference }}</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #6B7280; font-size: 14px;">Period</td>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #1F2937; font-size: 14px; text-align: right;">{{ period_start }} - {{ period_end }}</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #6B7280; font-size: 14px;">Commissions</td>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #1F2937; font-size: 14px; text-align: right;">{{ commission_count }}</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #6B7280; font-size: 14px;">Gross Amount</td>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #1F2937; font-size: 14px; text-align: right;">${{ "%.2f"|format(gross_amount) }}</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #6B7280; font-size: 14px;">Deductions</td>
                        <td style="padding: 10px 0; border-bottom: 1px solid #E5E7EB; color: #1F2937; font-size: 14px; text-align: right;">-${{ "%.2f"|format(deductions) }}</td>
                    </tr>
                    <tr>
                        <td style="padding: 15px 0 10px 0; color: #1F2937; font-size: 16px; font-weight: 600;">Net Payout</td>
                        <td style="padding: 15px 0 10px 0; color: #10B981; font-size: 18px; font-weight: 600; text-align: right;">${{ "%.2f"|format(net_amount) }}</td>
                    </tr>
                </table>
            </div>

            <!-- Next Steps -->
            <div style="margin-bottom: 30px;">
                <h3 style="color: #1F2937; font-size: 18px; margin-bottom: 15px;">What's Next?</h3>
                <ul style="color: #374151; font-size: 15px; line-height: 1.8; padding-left: 20px;">
                    <li>Check your {{ payment_method }} account {{ arrival_time }}</li>
                    <li>Download your payout statement for your records</li>
                    <li>Review your commission breakdown in the dashboard</li>
                </ul>
            </div>

            <!-- CTA Buttons -->
            <div style="text-align: center; margin: 30px 0;">
                <a href="{{ website_url }}/payouts/{{ payment_id }}" style="display: inline-block; background-color: #4F46E5; color: white; text-decoration: none; padding: 12px 30px; border-radius: 6px; font-weight: 500; font-size: 16px; margin-right: 10px;">
                    View Payout Details
                </a>
                <a href="{{ website_url }}/payouts/{{ payment_id }}/download" style="display: inline-block; background-color: #F3F4F6; color: #374151; text-decoration: none; padding: 12px 30px; border-radius: 6px; font-weight: 500; font-size: 16px;">
                    Download Statement
                </a>
            </div>

            <!-- Tax Reminder -->
            <div style="background-color: #FEF3C7; border-left: 4px solid #F59E0B; padding: 15px 20px; margin-top: 30px; border-radius: 4px;">
                <p style="color: #92400E; font-size: 14px; margin: 0;">
                    <strong>Tax Reminder:</strong> Remember to set aside funds for taxes.
                    You can download all payout statements from your dashboard for tax purposes.
                </p>
            </div>
        </div>

        <!-- Footer -->
        <div style="background-color: #F9FAFB; padding: 30px; text-align: center; border-top: 1px solid #E5E7EB;">
            <p style="color: #6B7280; font-size: 14px; margin: 0 0 10px 0;">
                Thank you for being part of the 6FB family!
            </p>
            <p style="color: #6B7280; font-size: 14px; margin: 0;">
                <a href="mailto:{{ support_email }}" style="color: #4F46E5; text-decoration: none;">{{ support_email }}</a> |
                <a href="{{ website_url }}/help/payouts" style="color: #4F46E5; text-decoration: none;">Payout Help</a>
            </p>

            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #E5E7EB;">
                <p style="color: #9CA3AF; font-size: 12px; margin: 0;">
                    <a href="{{ unsubscribe_url }}" style="color: #9CA3AF; text-decoration: underline;">Unsubscribe</a> |
                    <a href="{{ website_url }}/preferences" style="color: #9CA3AF; text-decoration: underline;">Update Preferences</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
