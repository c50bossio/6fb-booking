INFO:     Will watch for changes in these directories: ['/Users/bossio/6fb-booking/backend-v2']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [23356] using WatchFiles
WARNING:services.subscription_service:Stripe API key not configured - using mock mode
INFO:services.redis_service:Redis connection pool initialized successfully to redis://localhost:6379
INFO:services.redis_service:Environment: development, Max connections: 20
INFO:services.notification_service:SendGrid client initialized successfully
INFO:services.notification_service:Twilio client initialized successfully
INFO:services.notification_service:SendGrid client initialized successfully
INFO:services.notification_service:Twilio client initialized successfully
INFO:services.notification_service:SendGrid client initialized successfully
INFO:services.notification_service:Twilio client initialized successfully
INFO:services.notification_service:SendGrid client initialized successfully
INFO:services.notification_service:Twilio client initialized successfully
WARNING:services.gmb_service:Google OAuth credentials not configured
/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/pydantic/_internal/_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
WARNING:services.meta_business_service:Meta Business OAuth credentials not configured
/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/pydantic/_internal/_config.py:318: UserWarning: Valid config keys have changed in V2:
* 'allow_population_by_field_name' has been renamed to 'populate_by_name'
  warnings.warn(message, UserWarning)
WARNING:services.conversion_tracking_service:Google Tag Manager server-side not fully configured
WARNING:services.conversion_tracking_service:Meta Conversions API not fully configured
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:services.ai_providers.ai_provider_manager:Initialized Anthropic provider
INFO:services.ai_providers.ai_provider_manager:Initialized OpenAI provider
INFO:services.ai_providers.ai_provider_manager:Initialized Google provider
INFO:services.ai_providers.ai_provider_manager:Initialized Anthropic provider
INFO:services.ai_providers.ai_provider_manager:Initialized OpenAI provider
INFO:services.ai_providers.ai_provider_manager:Initialized Google provider
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.rate_limiter:Using Redis-based rate limiter
INFO:utils.marketing_rate_limit:Marketing rate limiter initialized with limits: {'overview': 30, 'trends': 30, 'channels': 30, 'funnel': 30, 'realtime': 120, 'health': 120, 'export': 5, 'campaigns': 60, 'default': 20}
INFO:services.notification_service:SendGrid client initialized successfully
INFO:services.notification_service:Twilio client initialized successfully
INFO:config.sentry:ðŸ”• Sentry DSN not configured - error tracking disabled
INFO:main:ðŸ”§ Development mode: Using lightweight middleware stack
INFO:main:âš¡ Skipping heavy middleware: RequestValidation, MultiTenancy, FinancialSecurity, MFA
INFO:main:CORS configured for environment 'development' with 2 origins
INFO:main:Allowed origins: ['http://localhost:3001', 'http://localhost:3000']
INFO:     Started server process [23400]
INFO:     Waiting for application startup.
INFO:main:ðŸš€ Starting BookedBarber V2 backend... (V2 AUTH FORCE DEPLOY 02:45)
INFO:services.redis_cache:âœ… Redis connection established successfully
INFO:services.startup_cache:âœ… Redis cache service initialized successfully
INFO:services.startup_cache:ðŸ”¥ Cache warmed up: 3 services, 2 locations, 1 configs in 0.6ms
INFO:services.startup_cache:âœ… Cache warmup completed successfully
INFO:main:âœ… Cache initialization completed: {'cache_enabled': True, 'redis_connected': True, 'cache_warmed': True, 'warnings': [], 'errors': [], 'services_cached': 3, 'locations_cached': 2, 'config_cached': 1, 'warmup_time_ms': 0}
INFO:     Application startup complete.
INFO:     127.0.0.1:49831 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49913 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49913 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49913 - "GET /api/v2/health/redis HTTP/1.1" 200 OK
INFO:     127.0.0.1:49916 - "GET /api/v2/health/redis HTTP/1.1" 200 OK
ERROR:utils.error_handling:Unhandled exception: RuntimeError: Response content shorter than Content-Length
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 180, in __call__
    await response(scope, wrapped_receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 218, in __call__
    await send({"type": "http.response.body", "body": b"", "more_body": False})
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in _send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 544, in send
    raise RuntimeError("Response content shorter than Content-Length")
RuntimeError: Response content shorter than Content-Length
ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/health/redis
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 180, in __call__
    await response(scope, wrapped_receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 218, in __call__
    await send({"type": "http.response.body", "body": b"", "more_body": False})
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in _send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 544, in send
    raise RuntimeError("Response content shorter than Content-Length")
RuntimeError: Response content shorter than Content-Length
INFO:     127.0.0.1:50214 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50214 - "GET /api/v2/health/redis HTTP/1.1" 200 OK
ERROR:utils.error_handling:Unhandled exception: RuntimeError: Response content shorter than Content-Length
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 180, in __call__
    await response(scope, wrapped_receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 218, in __call__
    await send({"type": "http.response.body", "body": b"", "more_body": False})
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in _send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 544, in send
    raise RuntimeError("Response content shorter than Content-Length")
RuntimeError: Response content shorter than Content-Length
ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/health/redis
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 180, in __call__
    await response(scope, wrapped_receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 218, in __call__
    await send({"type": "http.response.body", "body": b"", "more_body": False})
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in _send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 544, in send
    raise RuntimeError("Response content shorter than Content-Length")
RuntimeError: Response content shorter than Content-Length
INFO:services.token_blacklist:Token blacklist using Redis for storage
INFO:     127.0.0.1:50342 - "GET /api/v2/search/recent?limit=10 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50347 - "GET /api/v2/analytics/dashboard/7 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50342 - "GET /api/v2/search/recent?limit=10 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50345 - "GET /api/v2/appointments/ HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50347 - "GET /api/v2/appointments/ HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50345 - "GET /api/v2/appointments/all/list HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:50345 - "GET /api/v2/appointments/all/list HTTP/1.1" 401 Unauthorized
AUDIT AUTH: token_refresh_success, User: 7, IP: 127.0.0.1, Details: {'token_rotated': True}
AUDIT AUTH: token_refresh_success, User: 7, IP: 127.0.0.1, Details: {'token_rotated': True}
INFO:     127.0.0.1:50351 - "GET /api/v2/analytics/dashboard/7 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50342 - "POST /api/v2/auth/refresh HTTP/1.1" 200 OK
INFO:     127.0.0.1:50347 - "POST /api/v2/auth/refresh HTTP/1.1" 200 OK
AUDIT AUTH: token_refresh_success, User: 7, IP: 127.0.0.1, Details: {'token_rotated': True}
AUDIT AUTH: token_refresh_success, User: 7, IP: 127.0.0.1, Details: {'token_rotated': True}
INFO:     127.0.0.1:50349 - "POST /api/v2/auth/refresh HTTP/1.1" 200 OK
INFO:     127.0.0.1:50345 - "POST /api/v2/auth/refresh HTTP/1.1" 200 OK
ERROR:utils.error_handling:Unhandled exception: ResponseValidationError: 25 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 5, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 6, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 8, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 11, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 13, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 14, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 15, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 16, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 17, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 18, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 19, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 20, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 21, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 22, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 23, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 24, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 25, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 26, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 27, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 28, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 25 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 5, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 6, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 8, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 11, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 13, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 14, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 15, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 16, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 17, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 18, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 19, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 20, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 21, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 22, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 23, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 24, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 25, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 26, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 27, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 28, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/appointments/all/list
INFO:     127.0.0.1:50351 - "GET /api/v2/appointments/all/list HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 25 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 5, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 6, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 8, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 11, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 13, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 14, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 15, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 16, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 17, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 18, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 19, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 20, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 21, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 22, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 23, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 24, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 25, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 26, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 27, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 28, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Unhandled exception: ResponseValidationError: 5 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 5 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/appointments/
INFO:     127.0.0.1:50349 - "GET /api/v2/appointments/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 5 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Unhandled exception: ResponseValidationError: 25 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 5, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 6, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 8, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 11, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 13, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 14, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 15, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 16, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 17, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 18, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 19, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 20, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 21, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 22, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 23, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 24, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 25, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 26, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 27, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 28, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 25 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 5, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 6, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 8, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 11, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 13, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 14, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 15, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 16, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 17, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 18, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 19, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 20, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 21, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 22, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 23, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 24, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 25, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 26, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 27, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 28, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/appointments/all/list
INFO:     127.0.0.1:50345 - "GET /api/v2/appointments/all/list HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 25 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 5, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 6, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 8, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 11, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 13, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 14, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 15, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 16, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 17, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 18, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 19, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 20, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 21, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 22, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 23, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 24, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 25, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 26, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 27, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 28, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Unhandled exception: TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
Traceback (most recent call last):
  File "/Users/bossio/6fb-booking/backend-v2/utils/error_handling.py", line 261, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/routers/unified_analytics.py", line 173, in get_analytics_dashboard
    "clients": analytics_service.get_client_retention_metrics(user_ids=user_ids),
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/analytics/dashboard
INFO:     127.0.0.1:50342 - "GET /api/v2/analytics/dashboard?user_id=7 HTTP/1.1" 500 Internal Server Error
ERROR:utils.error_handling:Unhandled exception: ResponseValidationError: 5 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 5 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/appointments/
INFO:     127.0.0.1:50347 - "GET /api/v2/appointments/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/anyio/streams/memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/security.py", line 36, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 179, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/middleware/cache_middleware.py", line 153, in dispatch
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 154, in call_next
    raise app_exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 5 validation errors:
  {'type': 'string_type', 'loc': ('response', 'appointments', 0, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 1, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 2, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 3, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}
  {'type': 'string_type', 'loc': ('response', 'appointments', 4, 'service_name'), 'msg': 'Input should be a valid string', 'input': None}

ERROR:utils.error_handling:Unhandled exception: TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
Traceback (most recent call last):
  File "/Users/bossio/6fb-booking/backend-v2/utils/error_handling.py", line 261, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/routers/unified_analytics.py", line 337, in get_six_figure_barber_progress
    client_data = analytics_service.get_client_retention_metrics(user_ids=[target_user_id])
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/analytics/six-figure-barber/progress
INFO:     127.0.0.1:50342 - "GET /api/v2/analytics/six-figure-barber/progress?target_annual_income=100000&user_id=7 HTTP/1.1" 500 Internal Server Error
ERROR:utils.error_handling:Unhandled exception: TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
Traceback (most recent call last):
  File "/Users/bossio/6fb-booking/backend-v2/utils/error_handling.py", line 261, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/routers/unified_analytics.py", line 337, in get_six_figure_barber_progress
    client_data = analytics_service.get_client_retention_metrics(user_ids=[target_user_id])
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/analytics/six-figure-barber/progress
ERROR:utils.error_handling:Unhandled exception: TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
Traceback (most recent call last):
  File "/Users/bossio/6fb-booking/backend-v2/utils/error_handling.py", line 261, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/6fb-booking/backend-v2/routers/unified_analytics.py", line 173, in get_analytics_dashboard
    "clients": analytics_service.get_client_retention_metrics(user_ids=user_ids),
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: AnalyticsService.get_client_retention_metrics() got an unexpected keyword argument 'user_ids'
ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/analytics/dashboard
INFO:     127.0.0.1:50342 - "GET /api/v2/analytics/six-figure-barber/progress?target_annual_income=100000&user_id=7 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:50353 - "GET /api/v2/analytics/dashboard?user_id=7 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:50523 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50523 - "GET /api/v2/health/redis HTTP/1.1" 200 OK
INFO:     127.0.0.1:50731 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50731 - "GET /api/v2/health/redis HTTP/1.1" 200 OK
ERROR:utils.error_handling:Unhandled exception: RuntimeError: Response content shorter than Content-Length
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 180, in __call__
    await response(scope, wrapped_receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 218, in __call__
    await send({"type": "http.response.body", "body": b"", "more_body": False})
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in _send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 544, in send
    raise RuntimeError("Response content shorter than Content-Length")
RuntimeError: Response content shorter than Content-Length
ERROR:utils.error_handling:Request details - Method: GET, Path: /api/v2/health/redis
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 180, in __call__
    await response(scope, wrapped_receive, send)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/base.py", line 218, in __call__
    await send({"type": "http.response.body", "body": b"", "more_body": False})
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/cors.py", line 148, in send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in _send
    await send(message)
  File "/Users/bossio/.pyenv/versions/3.12.7/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 544, in send
    raise RuntimeError("Response content shorter than Content-Length")
RuntimeError: Response content shorter than Content-Length
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:services.startup_cache:âœ… Cache service shutdown completed
INFO:main:âœ… Cache shutdown completed
INFO:     Application shutdown complete.
INFO:     Finished server process [23400]
INFO:     Stopping reloader process [23356]
