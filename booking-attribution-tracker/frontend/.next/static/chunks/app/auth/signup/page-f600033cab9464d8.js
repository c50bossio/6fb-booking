(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{2483:function(e,s,a){Promise.resolve().then(a.bind(a,3711))},3711:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var t=a(7437),r=a(2265),l=a(9501),i=a(7648),n=a(2869),c=a(5186),d=a(6815),o=a(6070),m=a(9179),h=a(5153),x=a(8896),u=a(7769),p=a(2208),j=a(5863);function b(){let[e,s]=(0,r.useState)(!1),[a,b]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),{register:w}=(0,m.aC)(),{toast:N}=(0,h.pm)(),{register:v,handleSubmit:y,watch:_,formState:{errors:P}}=(0,l.cI)(),C=_("password"),F=async e=>{if(e.password!==e.confirmPassword){N({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}f(!0);try{await w({email:e.email,password:e.password,first_name:e.first_name,last_name:e.last_name,phone:e.phone||void 0}),N({title:"Account Created!",description:"Welcome to BookingBridge. Setting up your dashboard..."})}catch(e){N({title:"Registration Failed",description:e.message||"Failed to create account",variant:"destructive"})}finally{f(!1)}},Z=(e=>{if(!e)return{score:0,label:""};let s=Object.values({length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/\d/.test(e),special:/[^A-Za-z0-9]/.test(e)}).filter(Boolean).length;return s<=2?{score:s,label:"Weak",color:"bg-red-500"}:s<=3?{score:s,label:"Fair",color:"bg-yellow-500"}:s<=4?{score:s,label:"Good",color:"bg-blue-500"}:{score:s,label:"Strong",color:"bg-green-500"}})(C||"");return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(x.Z,{className:"h-12 w-12 text-blue-600"})}),(0,t.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Start tracking your marketing attribution in minutes"})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Get started for free"}),(0,t.jsx)(o.SZ,{children:"Join barbers who've improved their ROI by 40% on average"})]}),(0,t.jsxs)(o.aY,{children:[(0,t.jsxs)("form",{onSubmit:y(F),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"first_name",children:"First name"}),(0,t.jsx)(c.I,{id:"first_name",type:"text",placeholder:"John",...v("first_name",{required:"First name is required",minLength:{value:2,message:"First name must be at least 2 characters"}}),className:P.first_name?"border-red-500":""}),P.first_name&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:P.first_name.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"last_name",children:"Last name"}),(0,t.jsx)(c.I,{id:"last_name",type:"text",placeholder:"Doe",...v("last_name",{required:"Last name is required",minLength:{value:2,message:"Last name must be at least 2 characters"}}),className:P.last_name?"border-red-500":""}),P.last_name&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:P.last_name.message})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"email",children:"Email address"}),(0,t.jsx)(c.I,{id:"email",type:"email",autoComplete:"email",placeholder:"john@barbershop.com",...v("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:P.email?"border-red-500":""}),P.email&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:P.email.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"phone",children:"Phone number (optional)"}),(0,t.jsx)(c.I,{id:"phone",type:"tel",autoComplete:"tel",placeholder:"+1 (555) 123-4567",...v("phone",{pattern:{value:/^[\+]?[1-9][\d]{0,15}$/,message:"Invalid phone number"}}),className:P.phone?"border-red-500":""}),P.phone&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:P.phone.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.I,{id:"password",type:e?"text":"password",autoComplete:"new-password",placeholder:"Create a strong password",...v("password",{required:"Password is required",validate:e=>{let s={length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/\d/.test(e)};return s.length?s.uppercase?s.lowercase?!!s.number||"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password must be at least 8 characters long"}}),className:P.password?"border-red-500 pr-10":"pr-10"}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!e),children:e?(0,t.jsx)(u.Z,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"})})]}),C&&(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full ".concat(Z.color," transition-all duration-300"),style:{width:"".concat(Z.score/5*100,"%")}})}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:Z.label})]})}),P.password&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:P.password.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"confirmPassword",children:"Confirm password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.I,{id:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",placeholder:"Confirm your password",...v("confirmPassword",{required:"Please confirm your password",validate:e=>e===C||"Passwords do not match"}),className:P.confirmPassword?"border-red-500 pr-10":"pr-10"}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(!a),children:a?(0,t.jsx)(u.Z,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"})})]}),P.confirmPassword&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:P.confirmPassword.message})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{id:"terms",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",...v("terms",{required:"You must accept the terms and conditions"})}),(0,t.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",(0,t.jsx)(i.default,{href:"/terms",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",(0,t.jsx)(i.default,{href:"/privacy",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),P.terms&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:P.terms.message}),(0,t.jsx)(n.z,{type:"submit",className:"w-full",disabled:g,children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create account"})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(i.default,{href:"/auth/login",children:(0,t.jsx)(n.z,{variant:"outline",className:"w-full",children:"Sign in to your account"})})})]})]})]})]})})}}},function(e){e.O(0,[216,592,971,744],function(){return e(e.s=2483)}),_N_E=e.O()}]);