(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5327:function(e,s,t){Promise.resolve().then(t.bind(t,3242)),Promise.resolve().then(t.bind(t,1553)),Promise.resolve().then(t.bind(t,8003)),Promise.resolve().then(t.t.bind(t,4742,23)),Promise.resolve().then(t.t.bind(t,7960,23))},3242:function(e,s,t){"use strict";t.d(s,{Providers:function(){return Z}});var r=t(7437),a=t(946),n=t(9827),i=t(3204),l=t(9179),o=t(5153),d=t(2265),c=t(9816),m=t(535),x=t(2489),u=t(4508);let h=c.zt,f=d.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.l_,{ref:s,className:(0,u.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...a})});f.displayName=c.l_.displayName;let p=(0,m.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g=d.forwardRef((e,s)=>{let{className:t,variant:a,...n}=e;return(0,r.jsx)(c.fC,{ref:s,className:(0,u.cn)(p({variant:a}),t),...n})});g.displayName=c.fC.displayName,d.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.aU,{ref:s,className:(0,u.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...a})}).displayName=c.aU.displayName;let v=d.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.x8,{ref:s,className:(0,u.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...a,children:(0,r.jsx)(x.Z,{className:"h-4 w-4"})})});v.displayName=c.x8.displayName;let w=d.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.Dx,{ref:s,className:(0,u.cn)("text-sm font-semibold",t),...a})});w.displayName=c.Dx.displayName;let j=d.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.dk,{ref:s,className:(0,u.cn)("text-sm opacity-90",t),...a})});function N(){let{toasts:e}=(0,o.pm)();return(0,r.jsxs)(h,{children:[e.map(function(e){let{id:s,title:t,description:a,action:n,...i}=e;return(0,r.jsxs)(g,{...i,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[t&&(0,r.jsx)(w,{children:t}),a&&(0,r.jsx)(j,{children:a})]}),n,(0,r.jsx)(v,{})]},s)}),(0,r.jsx)(f,{})]})}j.displayName=c.dk.displayName;var b=t(3639),y=t(7168),k=t(9637),E=t(2869),S=t(6070);class z extends d.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){this.setState({hasError:!0,error:e,errorInfo:s}),console.error("Error Boundary caught an error:",e,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)(S.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(S.Ol,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(b.Z,{className:"w-6 h-6 text-red-600"})}),(0,r.jsx)(S.ll,{className:"text-xl",children:"Something went wrong"}),(0,r.jsx)(S.SZ,{children:"We encountered an unexpected error. This has been logged and we'll fix it soon."})]}),(0,r.jsxs)(S.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(E.z,{onClick:this.handleReset,className:"w-full",variant:"default",children:[(0,r.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Try Again"]}),(0,r.jsxs)(E.z,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[(0,r.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Go Home"]})]}),!1]})]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1}}}function Z(e){let{children:s}=e,[t]=(0,d.useState)(()=>new a.S({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:(e,s)=>{var t,r;return(!((null==s?void 0:null===(t=s.response)||void 0===t?void 0:t.status)>=400)||!((null==s?void 0:null===(r=s.response)||void 0===r?void 0:r.status)<500))&&e<3},refetchOnWindowFocus:!1},mutations:{retry:1}}}));return(0,r.jsx)(z,{children:(0,r.jsxs)(n.aH,{client:t,children:[(0,r.jsxs)(l.Ho,{children:[s,(0,r.jsx)(N,{})]}),(0,r.jsx)(i.t,{initialIsOpen:!1})]})})}},1553:function(e,s,t){"use strict";var r=t(7437),a=t(2265),n=t(2869),i=t(6070),l=t(3388),o=t(2489),d=t(9897),c=t(2735);s.default=function(){let[e,s]=(0,a.useState)(null),[t,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone||document.referrer.includes("android-app://");if(g(e()),f(/iPad|iPhone|iPod/.test(navigator.userAgent)),e()){u(!0);return}let t=e=>{e.preventDefault(),s(e),setTimeout(()=>m(!0),3e4)},r=()=>{u(!0),m(!1),s(null)};return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",r),()=>{window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",r)}},[]);let v=async()=>{if(e)try{await e.prompt();let{outcome:t}=await e.userChoice;console.log("User ".concat(t," the install prompt")),"accepted"===t&&u(!0),s(null),m(!1)}catch(e){console.error("Error showing install prompt:",e)}},w=()=>{m(!1),sessionStorage.setItem("pwa-prompt-dismissed","true")};return x||p||sessionStorage.getItem("pwa-prompt-dismissed")||!e&&!h||!t?null:h&&!e?(0,r.jsxs)(i.Zb,{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-sm border-blue-200 bg-blue-50",children:[(0,r.jsxs)(i.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5 text-blue-600"}),(0,r.jsx)(i.ll,{className:"text-base text-blue-900",children:"Install BookingBridge"})]}),(0,r.jsx)(n.z,{variant:"ghost",size:"sm",onClick:w,className:"h-6 w-6 p-0 text-blue-600 hover:bg-blue-100",children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)(i.SZ,{className:"text-blue-700",children:"Add to your home screen for quick access"})]}),(0,r.jsx)(i.aY,{className:"pt-0",children:(0,r.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,r.jsx)("p",{children:"1. Tap the share button in Safari"}),(0,r.jsx)("p",{children:'2. Select "Add to Home Screen"'}),(0,r.jsx)("p",{children:'3. Tap "Add" to install'})]})})]}):(0,r.jsxs)(i.Zb,{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-sm border-green-200 bg-green-50",children:[(0,r.jsxs)(i.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5 text-green-600"}),(0,r.jsx)(i.ll,{className:"text-base text-green-900",children:"Install BookingBridge"})]}),(0,r.jsx)(n.z,{variant:"ghost",size:"sm",onClick:w,className:"h-6 w-6 p-0 text-green-600 hover:bg-green-100",children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)(i.SZ,{className:"text-green-700",children:"Get faster access and work offline"})]}),(0,r.jsxs)(i.aY,{className:"space-y-3 pt-0",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-green-800",children:[(0,r.jsx)("div",{children:"✓ Instant loading"}),(0,r.jsx)("div",{children:"✓ Offline access"}),(0,r.jsx)("div",{children:"✓ Push notifications"}),(0,r.jsx)("div",{children:"✓ Native experience"})]}),(0,r.jsxs)(n.z,{onClick:v,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[(0,r.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Install App"]})]})]})}},8003:function(e,s,t){"use strict";var r=t(7437),a=t(2265),n=t(5395),i=t(3639),l=t(7168),o=t(2926),d=t(2869),c=t(6070);s.default=function(){let[e,s]=(0,a.useState)(!0),[t,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(0);(0,a.useEffect)(()=>{s(navigator.onLine);let e=()=>{s(!0),m(!1),setTimeout(()=>{let e=document.createElement("div");e.className="fixed top-4 right-4 z-50 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg",e.innerHTML='<div class="flex items-center space-x-2"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg><span>Back online</span></div>',document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e)},3e3)},500)},t=()=>{s(!1),m(!0)};return window.addEventListener("online",e),window.addEventListener("offline",t),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",e=>{"PENDING_REQUESTS_COUNT"===e.data.type&&u(e.data.count)}),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]);let h=()=>{window.location.reload()},f=async()=>{if("serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype)try{let e=await navigator.serviceWorker.ready;await e.sync.register("background-sync")}catch(e){console.error("Background sync registration failed:",e),h()}};return!t&&e?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 transition-transform duration-300 ".concat(e?"-translate-y-full":"translate-y-0"),children:(0,r.jsx)("div",{className:"bg-red-500 text-white px-4 py-2 text-center text-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"You're offline - some features may be limited"})]})})}),t&&(0,r.jsx)(c.Zb,{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-sm border-orange-200 bg-orange-50",children:(0,r.jsx)(c.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-orange-600"})}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-orange-900",children:"Working Offline"}),(0,r.jsx)("p",{className:"text-sm text-orange-700",children:"You can still view cached data and make changes. They'll sync when you're back online."})]}),x>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-orange-700",children:[(0,r.jsx)(l.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[x," pending sync",x>1?"s":""]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(d.z,{size:"sm",variant:"outline",onClick:h,className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[(0,r.jsx)(l.Z,{className:"w-3 h-3 mr-1"}),"Retry"]}),x>0&&(0,r.jsx)(d.z,{size:"sm",onClick:f,className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Sync Now"})]})]}),(0,r.jsx)(d.z,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"p-1 h-6 w-6 text-orange-600 hover:bg-orange-100",children:"\xd7"})]})})}),e&&(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,r.jsxs)("div",{className:"bg-green-500 text-white px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:"Connected"})]})})]})}},7960:function(){}},function(e){e.O(0,[540,216,592,971,744],function(){return e(e.s=5327)}),_N_E=e.O()}]);