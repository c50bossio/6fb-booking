(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{4113:function(e,s,t){Promise.resolve().then(t.bind(t,5173))},5173:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return P}});var a=t(7437),n=t(2265),i=t(6070),r=t(2869),l=t(5974),d=t(2339),c=t(265),o=t(5051),m=t(9554),x=t(3639),u=t(7168),h=t(2735),v=t(5863),g=t(5302),j=t(1239),p=t(525),f=t(8896),b=t(1723),y=t(7855);class N{static async getCampaignPerformance(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return(await y.x1.get("/analytics/campaigns/performance",{params:{business_id:e,date_range_days:s}})).data.data}static async getCampaignDetails(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return(await y.x1.get("/analytics/campaigns/".concat(e,"/details"),{params:{business_id:s,date_range_days:t}})).data.data}static async getPlatformComparison(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return(await y.x1.get("/analytics/platforms/comparison",{params:{business_id:e,date_range_days:s}})).data.data}static async getROITrends(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"daily";return(await y.x1.get("/analytics/roi/trends",{params:{business_id:e,period_days:s,granularity:t}})).data.data}static async getDashboardSummary(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return(await y.x1.get("/analytics/dashboard/summary",{params:{business_id:e,period_days:s}})).data.data}}let w={toMonthlyChart:e=>e.map(e=>({month:new Date(e.period).toLocaleDateString("en-US",{month:"short",year:"numeric"}),spend:e.spend,revenue:e.revenue,bookings:e.attributions,roi:e.roi_percentage})),toPlatformInsights:e=>e.map(e=>({platform:e.platform,spend:e.spend,revenue:e.revenue,bookings:e.attributions,roi:e.roi_percentage,trend:e.roi_percentage>250?"up":e.roi_percentage<150?"down":"stable",change:20*Math.random()-10,avgTimeToConvert:5*Math.random()+2,topDemographic:"Mixed Demographics"})),toPerformanceTrends:e=>({last30Days:{spend:{value:e.total_spend,change:20*Math.random()-10,trend:e.total_spend>1e3?"up":"down"},revenue:{value:e.total_revenue,change:20*Math.random()-10,trend:e.roi_percentage>200?"up":"down"},bookings:{value:e.total_attributions,change:20*Math.random()-10,trend:e.total_attributions>20?"up":"down"},roi:{value:e.roi_percentage,change:20*Math.random()-10,trend:e.roi_percentage>200?"up":"down"},avgBookingValue:{value:e.avg_booking_value,change:20*Math.random()-10,trend:e.avg_booking_value>75?"up":"down"}}})};class S extends Error{constructor(e,s,t){super(e),this.statusCode=s,this.originalError=t,this.name="AnalyticsAPIError"}}let _=async(e,s)=>{try{return await e()}catch(e){var t,a,n,i;if(console.error("Analytics API Error (".concat(s,"):"),e),(null===(t=e.response)||void 0===t?void 0:t.status)===401)throw new S("Authentication required. Please log in again.",401,e);if((null===(a=e.response)||void 0===a?void 0:a.status)===404)throw new S("Business or campaign not found.",404,e);if((null===(n=e.response)||void 0===n?void 0:n.status)>=500)throw new S("Server error. Please try again later.",e.response.status,e);throw new S("Failed to ".concat(s,". Please check your connection and try again."),null===(i=e.response)||void 0===i?void 0:i.status,e)}};var k=t(7500);let Z=[{model:"First Touch",attributions:89,revenue:8250,confidence:.89},{model:"Last Touch",revenue:7890,attributions:76,confidence:.85},{model:"Linear",revenue:6420,attributions:58,confidence:.78},{model:"Time Decay",revenue:5670,attributions:45,confidence:.82}],I={averageJourneyLength:4.2,averageInteractions:3.8,conversionPaths:[{path:"Facebook Ad → Website → Booking",count:45,percentage:34.1},{path:"Google Search → Website → Booking",count:38,percentage:28.8},{path:"Instagram → Facebook → Website → Booking",count:22,percentage:16.7},{path:"Facebook → Retargeting → Booking",count:18,percentage:13.6},{path:"Direct → Booking",count:9,percentage:6.8}],touchpointEffectiveness:[{touchpoint:"Facebook Ads",interactions:156,conversions:67,rate:42.9},{touchpoint:"Google Ads",interactions:134,conversions:48,rate:35.8},{touchpoint:"Instagram Ads",interactions:89,conversions:22,rate:24.7},{touchpoint:"Website Direct",interactions:67,conversions:19,rate:28.4},{touchpoint:"Email Marketing",interactions:45,conversions:12,rate:26.7}]};function P(){var e,s,t,y,P,C,A,O,R,T,F,D,M,E,L,Y,B,J,z,$,U,V;let[G,W]=(0,n.useState)("30d"),[K,q]=(0,n.useState)("revenue"),{businessId:H}=function(){let[e,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("current_business_id");e&&s(e)},[]),{businessId:e,setBusinessId:(0,n.useCallback)(e=>{s(e),localStorage.setItem("current_business_id",e)},[])}}(),{data:Q,loading:X,error:ee,refetch:es}=function(e){var s;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,[t,a]=(0,n.useState)(null),[i,r]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),c=(0,n.useCallback)(async()=>{if(e){r(!0),d(null);try{let t=await _(()=>N.getCampaignPerformance(e,s),"fetch campaign performance");a(t)}catch(e){e instanceof S?d(e.message):d("Failed to load campaign performance data")}finally{r(!1)}}},[e,s]);return(0,n.useEffect)(()=>{c()},[c]),{data:t,loading:i,error:l,refetch:c}}(e,t),i=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,[t,a]=(0,n.useState)(null),[i,r]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),c=(0,n.useCallback)(async()=>{if(e){r(!0),d(null);try{let t=await _(()=>N.getPlatformComparison(e,s),"fetch platform comparison");a(t)}catch(e){e instanceof S?d(e.message):d("Failed to load platform comparison data")}finally{r(!1)}}},[e,s]);return(0,n.useEffect)(()=>{c()},[c]),{data:t,loading:i,error:l,refetch:c}}(e,t),r=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"daily",[a,i]=(0,n.useState)(null),[r,l]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),o=(0,n.useCallback)(async()=>{if(e){l(!0),c(null);try{let a=await _(()=>N.getROITrends(e,s,t),"fetch ROI trends");i(a)}catch(e){e instanceof S?c(e.message):c("Failed to load ROI trends data")}finally{l(!1)}}},[e,s,t]);return(0,n.useEffect)(()=>{o()},[o]),{data:a,loading:r,error:d,refetch:o}}(e,t,"daily"),l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,[t,a]=(0,n.useState)(null),[i,r]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),c=(0,n.useCallback)(async()=>{if(e){r(!0),d(null);try{let t=await _(()=>N.getDashboardSummary(e,s),"fetch dashboard summary");a(t)}catch(e){e instanceof S?d(e.message):d("Failed to load dashboard summary data")}finally{r(!1)}}},[e,s]);return(0,n.useEffect)(()=>{c()},[c]),{data:t,loading:i,error:l,refetch:c}}(e,Math.min(t,7)),d=a.loading||i.loading||r.loading||l.loading,c=a.error||i.error||r.error||l.error;return{data:{performanceTrends:a.data?w.toPerformanceTrends(a.data.summary):null,monthlyPerformance:r.data?w.toMonthlyChart(r.data.trends):[],platformInsights:i.data?w.toPlatformInsights(i.data.platforms):[],revenueInsights:a.data?{totalRevenue:a.data.summary.total_revenue,attributedRevenue:a.data.summary.total_revenue,attributionRate:88,revenueGrowth:15.7,averageBookingValue:a.data.summary.avg_booking_value,revenueBySource:[{source:"Attributed to Ads",amount:.88*a.data.summary.total_revenue,percentage:88},{source:"Direct/Organic",amount:.08*a.data.summary.total_revenue,percentage:8},{source:"Referral",amount:.04*a.data.summary.total_revenue,percentage:4}]}:null,insights:(null===(s=l.data)||void 0===s?void 0:s.insights)||[],raw:{campaignPerformance:a.data,platformComparison:i.data,roiTrends:r.data,dashboardSummary:l.data}},loading:d,error:c,refetch:(0,n.useCallback)(async()=>{await Promise.all([a.refetch(),i.refetch(),r.refetch(),l.refetch()])},[a.refetch,i.refetch,r.refetch,l.refetch]),hooks:{campaignPerformance:a,platformComparison:i,roiTrends:r,dashboardSummary:l}}}(H,"7d"===G?7:"30d"===G?30:"90d"===G?90:365),et={...Q,attributionModels:Z,customerJourney:I},ea=e=>{switch(e){case"up":return(0,a.jsx)(c.Z,{className:"h-4 w-4 text-green-500"});case"down":return(0,a.jsx)(o.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(m.Z,{className:"h-4 w-4 text-gray-500"})}},en=e=>{switch(e){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}};return X&&!Q?(0,a.jsx)(k.F3,{text:"Loading analytics data..."}):ee&&!Q?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive attribution and performance analytics"})]})}),(0,a.jsx)(i.Zb,{children:(0,a.jsxs)(i.aY,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(x.Z,{className:"h-12 w-12 text-red-500 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Analytics"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 text-center",children:ee}),(0,a.jsxs)(r.z,{onClick:es,children:[(0,a.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive attribution and performance analytics"}),!H&&(0,a.jsx)("p",{className:"text-yellow-600 text-sm mt-1",children:"Please select a business to view analytics"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("select",{value:G,onChange:e=>W(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",disabled:X,children:[(0,a.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,a.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,a.jsx)("option",{value:"12m",children:"Last 12 months"})]}),(0,a.jsxs)(r.z,{variant:"outline",size:"sm",disabled:X||!(null==Q?void 0:null===(e=Q.raw)||void 0===e?void 0:e.campaignPerformance),children:[(0,a.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Export Report"]}),(0,a.jsxs)(r.z,{size:"sm",onClick:es,disabled:X,children:[X?(0,a.jsx)(v.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Refresh Data"]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:(null==et?void 0:null===(s=et.performanceTrends)||void 0===s?void 0:s.last30Days)&&Object.entries(et.performanceTrends.last30Days).map(e=>{let[s,t]=e;return(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium capitalize",children:s.replace(/([A-Z])/g," $1").trim()}),ea(t.trend)]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["spend"===s||"revenue"===s||s.includes("Value")?"$":"","number"==typeof t.value?t.value.toLocaleString():t.value,"roi"===s?"%":""]}),(0,a.jsxs)("p",{className:"text-xs ".concat(en(t.trend)),children:[t.change>0?"+":"",t.change,"% from last period"]})]})]},s)})}),(0,a.jsxs)(d.mQ,{defaultValue:"overview",className:"space-y-6",children:[(0,a.jsxs)(d.dr,{children:[(0,a.jsx)(d.SP,{value:"overview",children:"Performance Overview"}),(0,a.jsx)(d.SP,{value:"attribution",children:"Attribution Analysis"}),(0,a.jsx)(d.SP,{value:"customer-journey",children:"Customer Journey"}),(0,a.jsx)(d.SP,{value:"revenue",children:"Revenue Insights"}),(0,a.jsx)(d.SP,{value:"trends",children:"Trends & Forecasting"})]}),(0,a.jsxs)(d.nU,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Monthly Performance Trends"}),(0,a.jsx)(i.SZ,{children:"Revenue, spend, and ROI trends over time"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"grid grid-cols-5 gap-4",children:((null==et?void 0:et.monthlyPerformance)||[]).map((e,s)=>(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-2 text-xs text-gray-600",children:e.month}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"bg-blue-100 rounded h-20 flex items-end justify-center relative",children:[(0,a.jsx)("div",{className:"bg-blue-600 rounded w-full",style:{height:"".concat(e.revenue/1e4*100,"%")}}),(0,a.jsxs)("div",{className:"absolute bottom-1 text-xs text-white font-medium",children:["$",e.revenue/1e3,"k"]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Revenue"})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"bg-red-100 rounded h-12 flex items-end justify-center relative",children:[(0,a.jsx)("div",{className:"bg-red-500 rounded w-full",style:{height:"".concat(e.spend/4e3*100,"%")}}),(0,a.jsxs)("div",{className:"absolute bottom-1 text-xs text-white font-medium",children:["$",e.spend/1e3,"k"]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Spend"})]}),(0,a.jsxs)("div",{className:"text-sm font-medium text-green-600",children:[e.roi,"% ROI"]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.bookings," bookings"]})]},s))})})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Platform Performance Comparison"}),(0,a.jsx)(i.SZ,{children:"Detailed performance metrics by advertising platform"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:((null==et?void 0:et.platformInsights)||[]).map((e,s)=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("h4",{className:"font-medium text-lg",children:e.platform}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[ea(e.trend),(0,a.jsxs)("span",{className:"text-sm ".concat(en(e.trend)),children:[e.change>0?"+":"",e.change,"%"]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("div",{className:"text-xl font-semibold text-green-600",children:[e.roi.toFixed(1),"% ROI"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Spend"}),(0,a.jsxs)("div",{className:"font-medium",children:["$",e.spend.toFixed(0)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Revenue"}),(0,a.jsxs)("div",{className:"font-medium text-green-600",children:["$",e.revenue.toFixed(0)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Bookings"}),(0,a.jsx)("div",{className:"font-medium",children:e.bookings})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Time to Convert"}),(0,a.jsxs)("div",{className:"font-medium",children:[e.avgTimeToConvert," days"]})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:"Top Demographic:"})," ",e.topDemographic]})]},s))})})]})]}),(0,a.jsxs)(d.nU,{value:"attribution",className:"space-y-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Attribution Model Performance"}),(0,a.jsx)(i.SZ,{children:"Comparison of different attribution models"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:((null==et?void 0:et.attributionModels)||[]).map((e,s)=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.model}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(l.C,{variant:"secondary",children:[Math.round(100*e.confidence),"% confidence"]}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-green-600",children:["$",e.revenue.toFixed(0)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:e.attributions})," attributions"]}),(0,a.jsx)("div",{children:"•"}),(0,a.jsxs)("div",{children:["Avg. revenue per attribution: ",(0,a.jsxs)("span",{className:"font-medium",children:["$",(e.revenue/e.attributions).toFixed(2)]})]})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.revenue/8250*100,"%")}})})})]},s))})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Attribution Insights"}),(0,a.jsx)(i.SZ,{children:"Key insights and recommendations"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,a.jsx)(g.Z,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:"High Attribution Accuracy"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"First Touch model shows highest confidence (89%) and revenue attribution, suggesting strong initial touchpoint impact."})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,a.jsx)(j.Z,{className:"mr-2 h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Optimization Opportunity"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Linear attribution shows lower performance, indicating potential for mid-journey touchpoint optimization."})]})]})})]})]}),(0,a.jsxs)(d.nU,{value:"customer-journey",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-lg",children:"Journey Length"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[(null==et?void 0:null===(t=et.customerJourney)||void 0===t?void 0:t.averageJourneyLength)||0," days"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Average time to conversion"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-lg",children:"Interactions"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-3xl font-bold mb-2",children:(null==et?void 0:null===(y=et.customerJourney)||void 0===y?void 0:y.averageInteractions)||0}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Average touchpoints per journey"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-lg",children:"Top Path"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-lg font-bold mb-2",children:[(null==et?void 0:null===(A=et.customerJourney)||void 0===A?void 0:null===(C=A.conversionPaths)||void 0===C?void 0:null===(P=C[0])||void 0===P?void 0:P.percentage)||0,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(null==et?void 0:null===(T=et.customerJourney)||void 0===T?void 0:null===(R=T.conversionPaths)||void 0===R?void 0:null===(O=R[0])||void 0===O?void 0:O.path)||"No data available"})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Top Conversion Paths"}),(0,a.jsx)(i.SZ,{children:"Most common customer journey patterns"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:((null==et?void 0:null===(F=et.customerJourney)||void 0===F?void 0:F.conversionPaths)||[]).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm mb-1",children:e.path}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})})]}),(0,a.jsxs)("div",{className:"ml-4 text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.percentage,"%"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.count," customers"]})]})]},s))})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Touchpoint Effectiveness"}),(0,a.jsx)(i.SZ,{children:"Conversion rates by marketing channel"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:((null==et?void 0:null===(D=et.customerJourney)||void 0===D?void 0:D.touchpointEffectiveness)||[]).map((e,s)=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.touchpoint}),(0,a.jsxs)("div",{className:"text-lg font-semibold text-green-600",children:[e.rate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,a.jsxs)("div",{children:[e.interactions.toLocaleString()," interactions"]}),(0,a.jsxs)("div",{children:[e.conversions," conversions"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(e.rate>40?"bg-green-500":e.rate>30?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(e.rate/50*100,"%")}})})]},s))})})]})]}),(0,a.jsxs)(d.nU,{value:"revenue",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-lg",children:"Total Revenue"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",(null==et?void 0:null===(E=et.revenueInsights)||void 0===E?void 0:null===(M=E.totalRevenue)||void 0===M?void 0:M.toFixed(0))||"0"]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),"+",(null==et?void 0:null===(L=et.revenueInsights)||void 0===L?void 0:L.revenueGrowth)||0,"% growth"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-lg",children:"Attribution Rate"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",children:[(null==et?void 0:null===(B=et.revenueInsights)||void 0===B?void 0:null===(Y=B.attributionRate)||void 0===Y?void 0:Y.toFixed(1))||0,"%"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["$",(null==et?void 0:null===(z=et.revenueInsights)||void 0===z?void 0:null===(J=z.attributedRevenue)||void 0===J?void 0:J.toFixed(0))||"0"," attributed"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{className:"text-lg",children:"Avg Booking Value"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold mb-2",children:["$",(null==et?void 0:null===(U=et.revenueInsights)||void 0===U?void 0:null===($=U.averageBookingValue)||void 0===$?void 0:$.toFixed(2))||"0.00"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Per booking average"})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Revenue Attribution Breakdown"}),(0,a.jsx)(i.SZ,{children:"Revenue sources and attribution accuracy"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:((null==et?void 0:null===(V=et.revenueInsights)||void 0===V?void 0:V.revenueBySource)||[]).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium text-sm mb-1",children:e.source}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"h-3 rounded-full ".concat(0===s?"bg-blue-600":1===s?"bg-green-500":"bg-yellow-500"),style:{width:"".concat(e.percentage,"%")}})})]}),(0,a.jsxs)("div",{className:"ml-4 text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.percentage.toFixed(1),"%"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["$",e.amount.toFixed(0)]})]})]},s))})})]})]}),(0,a.jsxs)(d.nU,{value:"trends",className:"space-y-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"Performance Trend Analysis"}),(0,a.jsx)(i.SZ,{children:"Key performance indicators and their trends"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Positive Trends"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Revenue Growth"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Consistent month-over-month improvement"})]})]}),(0,a.jsx)("div",{className:"text-green-600 font-medium",children:"+15.7%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-green-50",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5 text-green-600 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Attribution Rate"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Improving attribution accuracy"})]})]}),(0,a.jsx)("div",{className:"text-green-600 font-medium",children:"88.0%"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Areas for Improvement"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5 text-yellow-600 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Instagram Performance"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"ROI below target threshold"})]})]}),(0,a.jsx)("div",{className:"text-yellow-600 font-medium",children:"207.7%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-yellow-50",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5 text-yellow-600 mr-2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Conversion Time"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Journey length could be optimized"})]})]}),(0,a.jsx)("div",{className:"text-yellow-600 font-medium",children:"4.2 days"})]})]})]})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-lg",children:"AI-Powered Recommendations"}),(0,a.jsx)(i.SZ,{children:"Data-driven suggestions to improve attribution performance"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900",children:"Optimize Instagram Strategy"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Instagram shows the lowest ROI (207.7%) among platforms. Consider refining audience targeting, creative messaging, or budget allocation to improve performance."})]}),(0,a.jsxs)("div",{className:"border-l-4 border-green-500 pl-4",children:[(0,a.jsx)("h4",{className:"font-medium text-green-900",children:"Expand Facebook Success"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Facebook shows strong performance with 306.7% ROI and highest attribution confidence. Consider increasing budget allocation by 20-30% to maximize returns."})]}),(0,a.jsxs)("div",{className:"border-l-4 border-yellow-500 pl-4",children:[(0,a.jsx)("h4",{className:"font-medium text-yellow-900",children:"Implement Multi-Touch Attribution"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Linear attribution shows untapped potential. Implement time-decay or position-based models to better understand mid-journey touchpoint impact."})]}),(0,a.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4",children:[(0,a.jsx)("h4",{className:"font-medium text-purple-900",children:"Reduce Customer Journey Length"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Average conversion time is 4.2 days with 3.8 touchpoints. Optimize landing pages and implement retargeting to reduce friction and accelerate conversions."})]})]})})]})]})]})]})}}},function(e){e.O(0,[216,592,971,744],function(){return e(e.s=4113)}),_N_E=e.O()}]);