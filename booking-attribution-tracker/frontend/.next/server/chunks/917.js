exports.id=917,exports.ids=[917],exports.modules={5909:(e,t,s)=>{Promise.resolve().then(s.bind(s,2515)),Promise.resolve().then(s.bind(s,3287)),Promise.resolve().then(s.bind(s,3073))},1859:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},2515:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>C});var r=s(326),a=s(3244),i=s(4976),n=s(787),o=s(1813),l=s(4215),c=s(7577),d=s.n(c),u=s(671),m=s(9360),g=s(4019),p=s(7863);let h=u.zt,f=c.forwardRef(({className:e,...t},s)=>r.jsx(u.l_,{ref:s,className:(0,p.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));f.displayName=u.l_.displayName;let x=(0,m.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),b=c.forwardRef(({className:e,variant:t,...s},a)=>r.jsx(u.fC,{ref:a,className:(0,p.cn)(x({variant:t}),e),...s}));b.displayName=u.fC.displayName,c.forwardRef(({className:e,...t},s)=>r.jsx(u.aU,{ref:s,className:(0,p.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=u.aU.displayName;let v=c.forwardRef(({className:e,...t},s)=>r.jsx(u.x8,{ref:s,className:(0,p.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(g.Z,{className:"h-4 w-4"})}));v.displayName=u.x8.displayName;let w=c.forwardRef(({className:e,...t},s)=>r.jsx(u.Dx,{ref:s,className:(0,p.cn)("text-sm font-semibold",e),...t}));w.displayName=u.Dx.displayName;let y=c.forwardRef(({className:e,...t},s)=>r.jsx(u.dk,{ref:s,className:(0,p.cn)("text-sm opacity-90",e),...t}));function j(){let{toasts:e}=(0,l.pm)();return(0,r.jsxs)(h,{children:[e.map(function({id:e,title:t,description:s,action:a,...i}){return(0,r.jsxs)(b,{...i,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[t&&r.jsx(w,{children:t}),s&&r.jsx(y,{children:s})]}),a,r.jsx(v,{})]},e)}),r.jsx(f,{})]})}y.displayName=u.dk.displayName;var k=s(7202),N=s(1405),S=s(5920),T=s(772),A=s(3071);class B extends d().Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({hasError:!0,error:e,errorInfo:t}),console.error("Error Boundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)(A.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(A.Ol,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:r.jsx(k.Z,{className:"w-6 h-6 text-red-600"})}),r.jsx(A.ll,{className:"text-xl",children:"Something went wrong"}),r.jsx(A.SZ,{children:"We encountered an unexpected error. This has been logged and we'll fix it soon."})]}),(0,r.jsxs)(A.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(T.z,{onClick:this.handleReset,className:"w-full",variant:"default",children:[r.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Try Again"]}),(0,r.jsxs)(T.z,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:[r.jsx(S.Z,{className:"w-4 h-4 mr-2"}),"Go Home"]})]}),!1]})]})}):this.props.children}}function C({children:e}){let[t]=(0,c.useState)(()=>new a.S({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:(e,t)=>!(t?.response?.status>=400&&t?.response?.status<500)&&e<3,refetchOnWindowFocus:!1},mutations:{retry:1}}}));return r.jsx(B,{children:(0,r.jsxs)(i.aH,{client:t,children:[(0,r.jsxs)(o.Ho,{children:[e,r.jsx(j,{})]}),r.jsx(n.t,{initialIsOpen:!1})]})})}},3287:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(326),a=s(7577),i=s(772),n=s(3071),o=s(3495),l=s(4019),c=s(2634),d=s(1540);let u=function(){let[e,t]=(0,a.useState)(null),[s,u]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),b=async()=>{if(e)try{await e.prompt();let{outcome:s}=await e.userChoice;console.log(`User ${s} the install prompt`),"accepted"===s&&g(!0),t(null),u(!1)}catch(e){console.error("Error showing install prompt:",e)}},v=()=>{u(!1)};return!m&&!f&&(e||p)&&s?p&&!e?(0,r.jsxs)(n.Zb,{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-sm border-blue-200 bg-blue-50",children:[(0,r.jsxs)(n.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(o.Z,{className:"h-5 w-5 text-blue-600"}),r.jsx(n.ll,{className:"text-base text-blue-900",children:"Install BookingBridge"})]}),r.jsx(i.z,{variant:"ghost",size:"sm",onClick:v,className:"h-6 w-6 p-0 text-blue-600 hover:bg-blue-100",children:r.jsx(l.Z,{className:"h-4 w-4"})})]}),r.jsx(n.SZ,{className:"text-blue-700",children:"Add to your home screen for quick access"})]}),r.jsx(n.aY,{className:"pt-0",children:(0,r.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[r.jsx("p",{children:"1. Tap the share button in Safari"}),r.jsx("p",{children:'2. Select "Add to Home Screen"'}),r.jsx("p",{children:'3. Tap "Add" to install'})]})})]}):(0,r.jsxs)(n.Zb,{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-sm border-green-200 bg-green-50",children:[(0,r.jsxs)(n.Ol,{className:"pb-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(c.Z,{className:"h-5 w-5 text-green-600"}),r.jsx(n.ll,{className:"text-base text-green-900",children:"Install BookingBridge"})]}),r.jsx(i.z,{variant:"ghost",size:"sm",onClick:v,className:"h-6 w-6 p-0 text-green-600 hover:bg-green-100",children:r.jsx(l.Z,{className:"h-4 w-4"})})]}),r.jsx(n.SZ,{className:"text-green-700",children:"Get faster access and work offline"})]}),(0,r.jsxs)(n.aY,{className:"space-y-3 pt-0",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-green-800",children:[r.jsx("div",{children:"✓ Instant loading"}),r.jsx("div",{children:"✓ Offline access"}),r.jsx("div",{children:"✓ Push notifications"}),r.jsx("div",{children:"✓ Native experience"})]}),(0,r.jsxs)(i.z,{onClick:b,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[r.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Install App"]})]})]}):null}},3073:(e,t,s)=>{"use strict";s.d(t,{default:()=>u});var r=s(326),a=s(7577),i=s(2783),n=s(7202),o=s(1405),l=s(5091),c=s(772),d=s(3071);let u=function(){let[e,t]=(0,a.useState)(!0),[s,u]=(0,a.useState)(!1),[m,g]=(0,a.useState)(0),p=()=>{window.location.reload()},h=async()=>{if("serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype)try{let e=await navigator.serviceWorker.ready;await e.sync.register("background-sync")}catch(e){console.error("Background sync registration failed:",e),p()}};return!s&&e?null:(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 transition-transform duration-300 ${e?"-translate-y-full":"translate-y-0"}`,children:r.jsx("div",{className:"bg-red-500 text-white px-4 py-2 text-center text-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(i.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"You're offline - some features may be limited"})]})})}),s&&r.jsx(d.Zb,{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-sm border-orange-200 bg-orange-50",children:r.jsx(d.aY,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(n.Z,{className:"w-5 h-5 text-orange-600"})}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium text-orange-900",children:"Working Offline"}),r.jsx("p",{className:"text-sm text-orange-700",children:"You can still view cached data and make changes. They'll sync when you're back online."})]}),m>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-orange-700",children:[r.jsx(o.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[m," pending sync",m>1?"s":""]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(c.z,{size:"sm",variant:"outline",onClick:p,className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[r.jsx(o.Z,{className:"w-3 h-3 mr-1"}),"Retry"]}),m>0&&r.jsx(c.z,{size:"sm",onClick:h,className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Sync Now"})]})]}),r.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"p-1 h-6 w-6 text-orange-600 hover:bg-orange-100",children:"\xd7"})]})})}),e&&r.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:(0,r.jsxs)("div",{className:"bg-green-500 text-white px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[r.jsx(l.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Connected"})]})})]})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var r=s(326),a=s(7577),i=s(4214),n=s(9360),o=s(7863);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...n},c)=>{let d=a?i.g7:"button";return r.jsx(d,{className:(0,o.cn)(l({variant:t,size:s,className:e})),ref:c,...n})});c.displayName="Button"},3071:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>o,SZ:()=>c,Zb:()=>n,aY:()=>d,ll:()=>l});var r=s(326),a=s(7577),i=s(7863);let n=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4215:(e,t,s)=>{"use strict";s.d(t,{pm:()=>m});var r=s(7577);let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=r.useState(c);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},8528:(e,t,s)=>{"use strict";s.d(t,{DL:()=>i,He:()=>l,N$:()=>n,VT:()=>o,kv:()=>a,x1:()=>r});let r=s(4099).Z.create({baseURL:"http://localhost:8000/api/v1",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>e,e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{let t=e.config;return e.response?.status!==401||t._retry||(t._retry=!0),Promise.reject(e)});let a={register:e=>r.post("/auth/register",e),login:e=>r.post("/auth/login",e),refreshToken:e=>r.post("/auth/refresh",{refresh_token:e}),getCurrentUser:()=>r.get("/auth/me"),logout:()=>r.post("/auth/logout"),changePassword:e=>r.post("/auth/change-password",e)},i={getBusinesses:()=>r.get("/businesses"),createBusiness:e=>r.post("/businesses",e),updateBusiness:(e,t)=>r.put(`/businesses/${e}`,t),deleteBusiness:e=>r.delete(`/businesses/${e}`)},n={trackInteraction:(e,t)=>r.post("/track/interaction",{business_id:e,...t}),trackBooking:(e,t)=>r.post("/track/booking",{business_id:e,...t}),getInteractions:(e,t)=>r.get(`/track/interactions/${e}`,{params:t}),getBookings:(e,t)=>r.get(`/track/bookings/${e}`,{params:t})},o={processAttribution:(e,t)=>r.post(`/attribution/process/${e}`,null,{params:t}),getAttributionResults:(e,t)=>r.get(`/attribution/results/${e}`,{params:t}),getAttributionMatches:(e,t)=>r.get(`/attribution/matches/${e}?booking_id=${t}`),getAttributionSummary:(e,t=30)=>r.get(`/attribution/summary/${e}?days=${t}`)},l={getCampaigns:e=>r.get(`/campaigns/${e}`),createCampaign:(e,t)=>r.post(`/campaigns/${e}`,t),updateCampaign:(e,t,s)=>r.put(`/campaigns/${e}/${t}`,s),deleteCampaign:(e,t)=>r.delete(`/campaigns/${e}/${t}`)}},1813:(e,t,s)=>{"use strict";s.d(t,{Ho:()=>c,QO:()=>d,aC:()=>l});var r=s(326),a=s(7577),i=s(5047),n=s(8528);let o=(0,a.createContext)(void 0);function l(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c({children:e}){let[t,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),d=(0,i.useRouter)(),u=async(e,t)=>{try{let r=(await n.kv.login({email:e,password:t})).data;localStorage.setItem("access_token",r.access_token),localStorage.setItem("refresh_token",r.refresh_token);let a=await n.kv.getCurrentUser();s(a.data),d.push("/dashboard")}catch(e){throw Error(e.response?.data?.detail||"Login failed")}},m=async e=>{try{await n.kv.register(e),await u(e.email,e.password)}catch(e){throw Error(e.response?.data?.detail||"Registration failed")}},g=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),s(null),n.kv.logout().catch(()=>{}),d.push("/")},p=async()=>{try{let e=await n.kv.getCurrentUser();s(e.data)}catch(e){g()}};return r.jsx(o.Provider,{value:{user:t,isLoading:l,isAuthenticated:!!t,login:u,register:m,logout:g,refreshUser:p},children:e})}function d(e){return function(t){let{isAuthenticated:s,isLoading:a}=l();return((0,i.useRouter)(),a)?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?r.jsx(e,{...t}):null}}},7863:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(1135),a=s(1009);function i(...e){return(0,a.m6)((0,r.W)(e))}},8990:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>d,viewport:()=>u});var r=s(9510),a=s(5384),i=s.n(a);s(7272);var n=s(8570);let o=(0,n.createProxy)(String.raw`/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/components/providers.tsx#Providers`);(0,n.createProxy)(String.raw`/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/components/pwa/InstallPrompt.tsx#InstallPrompt`);let l=(0,n.createProxy)(String.raw`/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/components/pwa/InstallPrompt.tsx#default`);(0,n.createProxy)(String.raw`/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/components/pwa/OfflineIndicator.tsx#OfflineIndicator`),(0,n.createProxy)(String.raw`/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/components/pwa/OfflineIndicator.tsx#useOnlineStatus`);let c=(0,n.createProxy)(String.raw`/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/components/pwa/OfflineIndicator.tsx#default`),d={title:"BookingBridge - Attribution Tracking Platform",description:"Privacy-compliant attribution tracking platform for barbershops and service businesses",keywords:["attribution tracking","barbershop","facebook ads","google ads","booking platform","ROI tracking"],authors:[{name:"BookingBridge Team"}],creator:"BookingBridge",publisher:"BookingBridge",formatDetection:{email:!1,address:!1,telephone:!1},manifest:"/manifest.json",appleWebApp:{capable:!0,statusBarStyle:"default",title:"BookingBridge",startupImage:["/icons/apple-splash-2048-2732.png",{url:"/icons/apple-splash-1668-2224.png",media:"(device-width: 834px) and (device-height: 1112px)"},{url:"/icons/apple-splash-1536-2048.png",media:"(device-width: 768px) and (device-height: 1024px)"}]},icons:{icon:[{url:"/icons/icon-192x192.png",sizes:"192x192",type:"image/png"},{url:"/icons/icon-512x512.png",sizes:"512x512",type:"image/png"}],apple:[{url:"/icons/apple-touch-icon.png",sizes:"180x180",type:"image/png"}],shortcut:"/icons/icon-192x192.png"},openGraph:{title:"BookingBridge - Attribution Tracking Platform",description:"Recover 28% attribution accuracy lost to iOS 14.5 privacy changes",url:"https://attribution-tracker.com",siteName:"BookingBridge",images:[{url:"/og-image.png",width:1200,height:630,alt:"BookingBridge Attribution Dashboard"}],locale:"en_US",type:"website"},twitter:{card:"summary_large_image",title:"BookingBridge - Attribution Tracking Platform",description:"Recover 28% attribution accuracy lost to iOS 14.5 privacy changes",images:["/twitter-image.png"],creator:"@bookingbridge"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}}},u={themeColor:[{media:"(prefers-color-scheme: light)",color:"#2563eb"},{media:"(prefers-color-scheme: dark)",color:"#1d4ed8"}],width:"device-width",initialScale:1,maximumScale:5,userScalable:!0,viewportFit:"cover"};function m({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsxs)("head",{children:[r.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),r.jsx("meta",{name:"apple-mobile-web-app-title",content:"BookingBridge"}),r.jsx("meta",{name:"application-name",content:"BookingBridge"}),r.jsx("meta",{name:"msapplication-TileColor",content:"#2563eb"}),r.jsx("meta",{name:"msapplication-config",content:"/browserconfig.xml"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),r.jsx("link",{rel:"dns-prefetch",href:"//api.attribution-tracker.com"}),r.jsx("link",{rel:"dns-prefetch",href:"//graph.facebook.com"}),r.jsx("link",{rel:"dns-prefetch",href:"//googleads.googleapis.com"}),r.jsx("script",{dangerouslySetInnerHTML:{__html:`
              if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                  navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('SW registered: ', registration);
                  }).catch(function(registrationError) {
                    console.log('SW registration failed: ', registrationError);
                  });
                });
              }
            `}})]}),r.jsx("body",{className:i().className,children:(0,r.jsxs)(o,{children:[e,r.jsx(l,{}),r.jsx(c,{}),r.jsx("script",{dangerouslySetInnerHTML:{__html:`
                // Initialize PWA functionality
                if (typeof window !== 'undefined') {
                  // Register for background sync
                  if ('serviceWorker' in navigator && 'sync' in window.ServiceWorkerRegistration.prototype) {
                    navigator.serviceWorker.ready.then(function(registration) {
                      console.log('Service worker ready for background sync');
                    });
                  }
                  
                  // Handle app state changes for better PWA experience
                  let isHidden = false;
                  
                  function handleVisibilityChange() {
                    if (document.hidden && !isHidden) {
                      isHidden = true;
                      // App is hidden, reduce activity
                    } else if (!document.hidden && isHidden) {
                      isHidden = false;
                      // App is visible again, resume full activity
                      if ('serviceWorker' in navigator) {
                        navigator.serviceWorker.ready.then(function(registration) {
                          registration.sync.register('background-sync');
                        });
                      }
                    }
                  }
                  
                  document.addEventListener('visibilitychange', handleVisibilityChange);
                  
                  // Handle beforeunload for pending data
                  window.addEventListener('beforeunload', function(e) {
                    if (navigator.onLine && window.localStorage.getItem('pendingData')) {
                      e.preventDefault();
                      e.returnValue = '';
                      return 'You have unsaved changes. Are you sure you want to leave?';
                    }
                  });
                }
              `}})]})})]})}},7272:()=>{}};