(()=>{var e={};e.id=200,e.ids=[200],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},6738:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>l}),n(9401),n(8990),n(5866);var r=n(3191),s=n(8716),i=n(7922),a=n.n(i),o=n(5231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);n.d(t,c);let l=["",{children:["offline",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,9401)),"/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/app/offline/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,8990)),"/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/app/offline/page.tsx"],u="/offline/page",h={require:n,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/offline/page",pathname:"/offline",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3310:(e,t,n)=>{Promise.resolve().then(n.bind(n,7662))},7662:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(326),s=n(7577),i=n(772),a=n(3071),o=n(2783),c=n(1405),l=n(8998),d=n(8319),u=n(7069);try{self["workbox:window:7.2.0"]&&_()}catch(e){}function h(e,t){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[r.port2])})}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r.key),r)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}try{self["workbox:core:7.2.0"]&&_()}catch(e){}var f=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})};function g(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var v=function(e,t){this.type=e,Object.assign(this,t)};function b(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function y(){}var j={type:"SKIP_WAITING"};function w(e,t){if(!t)return e&&e.then?e.then(y):Promise.resolve()}function N(){let[e,t]=(0,s.useState)(null),[n,h]=(0,s.useState)(0),[p,x]=(0,s.useState)(!1),m=async()=>{x(!0);try{if((await fetch("/api/health",{cache:"no-cache",signal:AbortSignal.timeout(5e3)})).ok)window.location.href="/dashboard";else throw Error("Server not responding")}catch(e){console.log("Still offline"),setTimeout(()=>x(!1),2e3)}},f=async()=>{if("serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype)try{let e=await navigator.serviceWorker.ready;await e.sync.register("background-sync");let t=document.createElement("div");t.className="fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg z-50",t.textContent="Data will sync automatically when online",document.body.appendChild(t),setTimeout(()=>document.body.removeChild(t),3e3)}catch(e){console.error("Background sync registration failed:",e)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-2xl w-full space-y-6",children:[(0,r.jsxs)(a.Zb,{className:"border-orange-200 bg-orange-50",children:[(0,r.jsxs)(a.Ol,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(o.Z,{className:"w-8 h-8 text-orange-600"})}),r.jsx(a.ll,{className:"text-2xl text-orange-900",children:"You're Offline"}),r.jsx(a.SZ,{className:"text-orange-700",children:"No internet connection detected. You can still view cached data and make changes."})]}),r.jsx(a.aY,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[r.jsx(i.z,{onClick:m,disabled:p,className:"bg-orange-600 hover:bg-orange-700 text-white",children:p?(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Try Again"]})}),n>0&&(0,r.jsxs)(i.z,{onClick:f,variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:[r.jsx(l.Z,{className:"w-4 h-4 mr-2"}),"Queue for Sync (",n,")"]})]})})]}),e&&(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(d.Z,{className:"w-5 h-5 text-blue-600"}),r.jsx(a.ll,{className:"text-lg",children:"Cached Analytics"})]}),(0,r.jsxs)(a.SZ,{children:["Last updated: ",new Date(e.timestamp).toLocaleString()]})]}),r.jsx(a.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Z,{className:"w-4 h-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Conversions"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:e.conversions||0}),r.jsx("p",{className:"text-xs text-blue-700",children:"This month"})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Revenue"})}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-green-900 mt-1",children:["$",e.revenue||0]}),r.jsx("p",{className:"text-xs text-green-700",children:"Attributed"})]}),(0,r.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Attribution Rate"})}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:[e.attributionRate||0,"%"]}),r.jsx("p",{className:"text-xs text-purple-700",children:"Accuracy"})]})]})})]}),(0,r.jsxs)(a.Zb,{children:[r.jsx(a.Ol,{children:r.jsx(a.ll,{className:"text-lg",children:"What you can do offline"})}),r.jsx(a.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"View cached analytics data"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"Browse attribution reports"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"Update business settings"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),r.jsx("span",{children:"Changes will sync when online"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),r.jsx("span",{children:"Background sync enabled"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),r.jsx("span",{children:"Push notifications ready"})]})]})]})})]}),r.jsx(a.Zb,{className:"bg-blue-50 border-blue-200",children:(0,r.jsxs)(a.aY,{className:"p-4",children:[r.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Offline Tips"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Your changes are automatically saved locally"}),r.jsx("li",{children:"• Data will sync as soon as you're connected"}),r.jsx("li",{children:"• Cached reports remain accessible for up to 7 days"}),r.jsx("li",{children:"• Install this app for better offline experience"})]})]})})]})})}(function(e){function t(t,n){var r,s;return void 0===n&&(n={}),(r=e.call(this)||this).nn={},r.tn=0,r.rn=new f,r.en=new f,r.on=new f,r.un=0,r.an=new Set,r.cn=function(){var e=r.fn,t=e.installing;r.tn>0||!g(t.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=t,e.removeEventListener("updatefound",r.cn)):(r.hn=t,r.an.add(t),r.rn.resolve(t)),++r.tn,t.addEventListener("statechange",r.ln)},r.ln=function(e){var t=r.fn,n=e.target,s=n.state,i=n===r.vn,a={sw:n,isExternal:i,originalEvent:e};!i&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new v(s,a)),"installed"===s?r.wn=self.setTimeout(function(){"installed"===s&&t.waiting===n&&r.dispatchEvent(new v("waiting",a))},200):"activating"===s&&(clearTimeout(r.wn),i||r.en.resolve(n))},r.yn=function(e){var t=r.hn,n=t!==navigator.serviceWorker.controller;r.dispatchEvent(new v("controlling",{isExternal:n,originalEvent:e,sw:t,isUpdate:r.mn})),n||r.on.resolve(t)},r.gn=(s=function(e){var t=e.data,n=e.ports,s=e.source;return b(r.getSW(),function(){r.an.has(s)&&r.dispatchEvent(new v("message",{data:t,originalEvent:e,ports:n,sw:s}))})},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(s.apply(this,e))}catch(e){return Promise.reject(e)}}),r.sn=t,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,x(t,e);var n,r,s=t.prototype;s.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var r,s,i,a=this;return b((r=function(){if(!n&&"complete"!==document.readyState)return w(new Promise(function(e){return window.addEventListener("load",e)}))},s=function(){return a.mn=!!navigator.serviceWorker.controller,a.dn=a.pn(),b(a.bn(),function(e){a.fn=e,a.dn&&(a.hn=a.dn,a.en.resolve(a.dn),a.on.resolve(a.dn),a.dn.addEventListener("statechange",a.ln,{once:!0}));var t=a.fn.waiting;return t&&g(t.scriptURL,a.sn.toString())&&(a.hn=t,Promise.resolve().then(function(){a.dispatchEvent(new v("waiting",{sw:t,wasWaitingBeforeRegister:!0}))}).then(function(){})),a.hn&&(a.rn.resolve(a.hn),a.an.add(a.hn)),a.fn.addEventListener("updatefound",a.cn),navigator.serviceWorker.addEventListener("controllerchange",a.yn),a.fn})},(i=r())&&i.then?i.then(s):s(i)))}catch(e){return Promise.reject(e)}},s.update=function(){try{return this.fn?b(w(this.fn.update())):b()}catch(e){return Promise.reject(e)}},s.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(e){try{return b(this.getSW(),function(t){return h(t,e)})}catch(e){return Promise.reject(e)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&h(this.fn.waiting,j)},s.pn=function(){var e=navigator.serviceWorker.controller;return e&&g(e.scriptURL,this.sn.toString())?e:void 0},s.bn=function(){try{var e=this;return b(function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(function(){return b(navigator.serviceWorker.register(e.sn,e.nn),function(t){return e.un=performance.now(),t})},function(e){throw e}))}catch(e){return Promise.reject(e)}},n=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}],p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1})})(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this.jn(e).add(t)},t.removeEventListener=function(e,t){this.jn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,void 0):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.jn(e.type));!(t=n()).done;)(0,t.value)(e)},t.jn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}())},8998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let r=(0,n(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8319:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let r=(0,n(6557).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},7069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});let r=(0,n(6557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},9401:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(8570).createProxy)(String.raw`/Users/bossio/6fb-booking/booking-attribution-tracker/frontend/app/offline/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[985,917],()=>n(6738));module.exports=r})();